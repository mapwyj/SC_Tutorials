{\rtf1\mac\ansicpg10000\cocoartf824\cocoasubrtf410
{\fonttbl\f0\fnil\fcharset77 Monaco;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue191;\red96\green96\blue96;\red191\green0\blue0;
}
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\fs18 \cf2 var\cf0  paths;\
\
q = q ? ();\
q.path = q.path ?? \{\cf2 Document\cf0 .current.path.dirname\};\
\
paths = (\cf2 q.path\cf0  ++ \cf3 "/sounds/*.aiff"\cf0 ).pathMatch;\
q.bufferC.isNil.if(\{\
	q.bufferC = \cf2 Buffer\cf0 .allocConsecutive(paths.size, s, 44100*3, 1, \{\cf2 |buf, i|\cf0 \
			buf.read(paths[i],action: \{(\cf3 "loading done:"\cf0  + i).inform\})\
	\})\
\}, \{\
	q.bufferC.do\{\cf2 |buf, i|\cf0 \
		buf.read(paths[i],action: \{(\cf3 "loading done:"\cf0  + i).inform\})\
	\}\
\});\
\
paths = (\cf2 q.\cf0 path ++ \cf3 "/sounds/drums/*.wav"\cf0 ).pathMatch;\
q.bLoops.isNil.if(\{\
	q.bLoops = paths.collect\{\cf2 |path|\cf0  \cf2 Buffer\cf0 .read(s, path, action: \{(\cf3 "drums loading done:"\cf0  + i).inform\})\}\
\}, \{\
	q.bLoops.do\{\cf2 |buf, i|\cf0 \
		buf.read(paths[i],action: \{(\cf3 "drums loading done:"\cf0  + i).inform\})\
	\}\
\})\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural
\cf4 /*\
b = Buffer.read(s, (Document.current.path.dirname ++ "/sounds/drums.wav").pathMatch.first)\
b.play\
\
~bPlayer.play\
\
~bPlayer.set(\\bufnum, q.bLoops[0].bufnum);\
q.bLoops[0].play\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf4 \
(\
~bPlayer = \{|bufnum = 0, amp = 0.001|\
	var player;\
	player = PlayBuf.ar(\
		2,\
		bufnum,\
		BufRateScale.kr(bufnum), \
		loop: 1\
	); \
	player * amp; \
\}\
)\
~bPlayer.stop(3)\
~bPlayer.clear\
*/\cf0 \
}